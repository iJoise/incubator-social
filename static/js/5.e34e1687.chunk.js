(this["webpackJsonpsocial-kama"]=this["webpackJsonpsocial-kama"]||[]).push([[5],{305:function(e,t,n){e.exports={user_container:"Users_user_container__2wk2a",searchUsers:"Users_searchUsers__1SRex",find:"Users_find__1Z8om",btn:"Users_btn__25K-5"}},318:function(e,t,n){e.exports={selected:"Paginator_selected__2Yrov",paginationContainer:"Paginator_paginationContainer__2kR4M",pagination:"Paginator_pagination__1tH9L",btn:"Paginator_btn__3F0uY"}},319:function(e,t,n){e.exports={user:"User_user__2XzJZ",user__body:"User_user__body__2Pzwy",user__img:"User_user__img__1XWvv",user__item:"User_user__item___TD3q",user__name:"User_user__name__1iML-",user__status:"User_user__status__4VYIw",btn:"User_btn__1eFAl",btn__bl:"User_btn__bl__2acEG"}},320:function(e,t,n){"use strict";t.decode=t.parse=n(321),t.encode=t.stringify=n(322)},321:function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,s){t=t||"&",n=n||"=";var c={};if("string"!==typeof e||0===e.length)return c;var i=/\+/g;e=e.split(t);var o=1e3;s&&"number"===typeof s.maxKeys&&(o=s.maxKeys);var u=e.length;o>0&&u>o&&(u=o);for(var l=0;l<u;++l){var b,d,j,f,_=e[l].replace(i,"%20"),m=_.indexOf(n);m>=0?(b=_.substr(0,m),d=_.substr(m+1)):(b=_,d=""),j=decodeURIComponent(b),f=decodeURIComponent(d),r(c,j)?a(c[j])?c[j].push(f):c[j]=[c[j],f]:c[j]=f}return c};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},322:function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,i){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?s(c(e),(function(c){var i=encodeURIComponent(r(c))+n;return a(e[c])?s(e[c],(function(e){return i+encodeURIComponent(r(e))})).join(t):i+encodeURIComponent(r(e[c]))})).join(t):i?encodeURIComponent(r(i))+n+encodeURIComponent(r(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var c=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},325:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n(0),s=n.n(a),c=n(305),i=n.n(c),o=n(99),u=n(298),l=n(318),b=n.n(l),d=n(1),j=s.a.memo((function(e){for(var t=e.currentPage,n=e.onPageChanged,r=e.pageSize,s=e.totalItemsCount,c=e.portionSize,i=void 0===c?10:c,o=Math.ceil(s/r),l=[],j=1;j<=o;j++)l.push(j);var f=Math.ceil(o/i),_=Object(a.useState)(1),m=Object(u.a)(_,2),p=m[0],O=m[1],g=(p-1)*i+1,h=p*i;return Object(d.jsxs)("div",{className:b.a.paginationContainer,children:[p>1&&Object(d.jsx)("button",{className:b.a.btn,onClick:function(){return O(p-1)},children:"Pref"}),l.filter((function(e){return e>=g&&e<=h})).map((function(e){return Object(d.jsx)("div",{className:t===e?"".concat(b.a.pagination," ").concat(b.a.selected):b.a.pagination,onClick:function(){n(e)},children:e},e)})),f>p&&Object(d.jsx)("button",{className:b.a.btn,onClick:function(){return O(p+1)},children:"Next"})]})})),f=n(319),_=n.n(f),m=n(97),p=n(19),O=n(23),g=s.a.memo((function(e){var t=Object(O.c)(),n=e.followingInProgress,r=e.user;return Object(d.jsx)("div",{className:_.a.user,children:Object(d.jsxs)("div",{className:_.a.user__body,children:[Object(d.jsx)("div",{className:_.a.user__img,children:Object(d.jsx)(p.b,{to:"/profile/"+r.id,children:Object(d.jsx)("img",{src:r.photos.small||m.a,alt:"avatar"})})}),Object(d.jsxs)("div",{className:_.a.user__item,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:_.a.user__name,children:r.name}),Object(d.jsx)("div",{className:_.a.user__status,children:r.status})]}),Object(d.jsx)("div",{children:r.followed?Object(d.jsx)("button",{className:_.a.btn,disabled:n.some((function(e){return e===r.id})),onClick:function(){t(Object(o.c)(r.id))},children:"Unfollow"}):Object(d.jsx)("button",{className:"".concat(_.a.btn," ").concat(_.a.btn__bl),disabled:n.some((function(e){return e===r.id})),onClick:function(){t(Object(o.a)(r.id))},children:"Follow"})})]})]},r.id)})})),h=n(306),v=function(e){var t=e.onFilterChanged,n=Object(O.d)((function(e){return e.usersPage.filter}));return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:i.a.searchUsers,children:Object(d.jsx)(h.c,{enableReinitialize:!0,initialValues:{term:n.term,friend:String(n.friend)},onSubmit:function(e,n){var r=n.setSubmitting,a={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};t(a),r(!1)},children:function(e){var t=e.isSubmitting;return Object(d.jsxs)(h.b,{children:[Object(d.jsx)(h.a,{type:"text",name:"term",className:i.a.find}),Object(d.jsxs)(h.a,{name:"friend",as:"select",children:[Object(d.jsx)("option",{value:"null",children:"All"}),Object(d.jsx)("option",{value:"true",children:"Only followed"}),Object(d.jsx)("option",{value:"false",children:"Only Unfollowed"})]}),Object(d.jsx)("button",{type:"submit",disabled:t,className:i.a.btn,children:"Find"})]})}})})})},x=n(69),y=n(12),U=n(320),C=s.a.memo((function(){var e=Object(O.d)((function(e){return e.usersPage})),t=e.currentPage,n=e.pageSize,s=e.followingInProgress,c=e.totalCount,u=e.items,l=e.filter,b=e.isFetching,f=Object(O.c)(),_=Object(y.g)();Object(a.useEffect)((function(){var e=U.parse(_.location.search.slice(1)),a=t,s=l;switch(e.page&&(a=+e.page),e.term&&(s=Object(r.a)(Object(r.a)({},s),{},{term:e.term})),e.friend){case"null":s=Object(r.a)(Object(r.a)({},s),{},{friend:null});break;case"true":s=Object(r.a)(Object(r.a)({},s),{},{friend:!0});break;case"false":s=Object(r.a)(Object(r.a)({},s),{},{friend:!1})}f(Object(o.b)(a,n,s))}),[]),Object(a.useEffect)((function(){var e={};l.term&&(e.term=l.term),l.friend&&(e.friend=String(l.friend)),1!==t&&(e.page=String(t)),_.push({pathname:"/users",search:U.stringify(e)})}),[l,t,_]);var m=u.map((function(e){return Object(d.jsx)(g,{user:e,followingInProgress:s},e.id)}));return Object(d.jsxs)(d.Fragment,{children:[b&&Object(d.jsx)(x.a,{}),Object(d.jsxs)("div",{className:i.a.user_container,children:[Object(d.jsx)(v,{onFilterChanged:function(e){f(Object(o.b)(1,n,e))}}),Object(d.jsx)(j,{totalItemsCount:c,pageSize:n,currentPage:t,onPageChanged:function(e){f(Object(o.b)(e,n,l))}}),m]})]})}));t.default=C}}]);
//# sourceMappingURL=5.e34e1687.chunk.js.map