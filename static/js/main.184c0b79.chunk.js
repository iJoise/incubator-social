(this["webpackJsonpsocial-kama"]=this["webpackJsonpsocial-kama"]||[]).push([[1],{100:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return x}));var r=n(4),a=n.n(r),c=n(8),s=n(33),o=n(3),i=n(22),u=n(28),l="social/chat/MESSAGES_RECEIVED",p="social/chat/STATUS_CHANGED",f={messages:[],status:i.b.Ready},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(o.a)(Object(o.a)({},e),{},{messages:[].concat(Object(s.a)(e.messages),Object(s.a)(t.payload.messages.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{id:Object(u.a)()})}))))});case p:return Object(o.a)(Object(o.a)({},e),t.payload);default:return e}},b=function(e){return{type:l,payload:{messages:e}}},j=function(e){return{type:p,payload:{status:e}}},h=null,m=function(e){return null===h&&(h=function(t){e(b(t))}),h},O=null,v=function(e){return null===O&&(O=function(t){e(j(t))}),O},_=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.c.start(),i.c.subscribe(i.a.Messages_Received,m(t)),i.c.subscribe(i.a.Status_Changed,v(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.c.unsubscribe(i.a.Messages_Received,m(t)),i.c.unsubscribe(i.a.Status_Changed,v(t)),i.c.stop();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.c.sendMessage(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},103:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s}));var r=n(28),a={dialogs:[{id:Object(r.a)(),name:"Polina",avatar:"https://source.unsplash.com/user/aiony/150x150/"},{id:Object(r.a)(),name:"Ilya",avatar:"https://source.unsplash.com/user/chrisjoelcampbell/150x150/"},{id:Object(r.a)(),name:"Nasty",avatar:"https://source.unsplash.com/user/cikstefan/150x150/"},{id:Object(r.a)(),name:"Sasha",avatar:"https://source.unsplash.com/user/romashilin/150x150/"},{id:Object(r.a)(),name:"Masha",avatar:"https://source.unsplash.com/user/houcinencibphotography/150x150/"}]},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;return t.type,e},s=function(e){return{type:"social/dialog/ADD-NEW-MESSAGE",newMessage:e}}},13:function(e,t,n){e.exports={container:"Login_container__2wXPP",form_box:"Login_form_box__1owCV",header_form:"Login_header_form__1crcD",message:"Login_message__2sAhj",social:"Login_social__1yhjp",text_primary:"Login_text_primary__2DKmk",input_group:"Login_input_group__eBfeV",input_group____prepend:"Login_input_group____prepend__YqZFk",input_group__text:"Login_input_group__text__jSB91",form_control:"Login_form_control__3ThU4",btn:"Login_btn__3S0Pc",checkbox:"Login_checkbox__1wXhY",error:"Login_error__6SziI"}},138:function(e,t,n){e.exports={aside:"Navbar_aside__14C8v"}},139:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){},15:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n(4),a=n.n(r),c=n(8),s=n(135),o=n.n(s).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"3928f52f-fe0d-4ea9-97d7-8b764f267e74"}}),i={getUsers:function(e,t){var n=arguments;return Object(c.a)(a.a.mark((function r(){var c,s,i;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=n.length>2&&void 0!==n[2]?n[2]:"",s=n.length>3&&void 0!==n[3]?n[3]:null,r.next=4,o.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(c)+(null===s?"":"&friend=".concat(s)));case 4:return i=r.sent,r.abrupt("return",i.data);case 6:case"end":return r.stop()}}),r)})))()},unfollowUsers:function(e){return Object(c.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.delete("follow/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},followUsers:function(e){return Object(c.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.post("follow/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()}},u={me:function(){return Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.get("auth/me");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},login:function(e,t){var n=arguments;return Object(c.a)(a.a.mark((function r(){var c,s,i;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=n.length>2&&void 0!==n[2]&&n[2],s={email:e,password:t,rememberMe:c},r.next=4,o.post("auth/login",s);case 4:return i=r.sent,r.abrupt("return",i.data);case 6:case"end":return r.stop()}}),r)})))()},logout:function(){return Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.delete("auth/login");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()}},l={getProfile:function(e){return Object(c.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.get("profile/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},getStatus:function(e){return Object(c.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.get("profile/status/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},updateStatus:function(e){return Object(c.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.put("profile/status",{status:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},savePhoto:function(e){return Object(c.a)(a.a.mark((function t(){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("image",e),t.next=4,o.put("profile/photo",n,{headers:{"Content-Type":"multipart/form-data"}});case 4:return r=t.sent,t.abrupt("return",r.data);case 6:case"end":return t.stop()}}),t)})))()},saveProfile:function(e){return Object(c.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.put("profile",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()}}},16:function(e,t,n){e.exports={header:"Header_header__1v0yI",header__logo:"Header_header__logo___qdaS",input:"Header_input__3sc1D",buttons:"Header_buttons__2pq8T",btn:"Header_btn__9aKgf",btn_log:"Header_btn_log__2sged",btn_reg:"Header_btn_reg__16EQ9",auth:"Header_auth__1gWb7",login__name:"Header_login__name__3eNGN",photo:"Header_photo__1Kqrl"}},172:function(e,t,n){},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return h}));var r,a,c,s=n(51);!function(e){e.Messages_Received="messages-received",e.Status_Changed="status_changed "}(a||(a={})),function(e){e.Pending="pending",e.Ready="ready",e.Error="error"}(c||(c={}));var o=(r={},Object(s.a)(r,a.Messages_Received,[]),Object(s.a)(r,a.Status_Changed,[]),r),i=null,u=function(){b(c.Pending),setTimeout(j,5e3)},l=function(){var e,t,n,r;null===(e=i)||void 0===e||e.removeEventListener("close",u),null===(t=i)||void 0===t||t.removeEventListener("message",p),null===(n=i)||void 0===n||n.removeEventListener("open",f),null===(r=i)||void 0===r||r.removeEventListener("error",d)},p=function(e){var t=JSON.parse(e.data);o[a.Messages_Received].forEach((function(e){return e(t)}))},f=function(){b(c.Ready)},d=function(){b(c.Error),console.error("REFRESH PAGE")},b=function(e){o[a.Status_Changed].forEach((function(t){return t(e)}))};function j(){var e;l(),null===(e=i)||void 0===e||e.close(),i=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),b(c.Pending),i.addEventListener("close",u),i.addEventListener("message",p),i.addEventListener("open",f),i.addEventListener("error",d)}var h={start:function(){j()},stop:function(){var e;o[a.Messages_Received]=[],l(),null===(e=i)||void 0===e||e.close()},subscribe:function(e,t){return o[e].push(t),function(){o[e]=o[e].filter((function(e){return e!==t}))}},unsubscribe:function(e,t){o[e]=o[e].filter((function(e){return e!==t}))},sendMessage:function(e){var t;null===(t=i)||void 0===t||t.send(e)}}},255:function(e,t,n){},296:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(70),s=n.n(c),o=(n(172),n(19)),i=n(11),u=n(103),l=n(55),p=n(99),f=n(4),d=n.n(f),b=n(8),j=n(3),h=n(15),m=n(56),O="social/auth/SET_USER_DATA",v={id:null,email:null,login:null,isAuth:!1},_=function(e,t,n,r){return{type:O,payload:{id:e,email:t,login:n,isAuth:r}}},g=function(){return function(){var e=Object(b.a)(d.a.mark((function e(t){var n,r,a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.me();case 3:0===(n=e.sent).resultCode&&(r=n.data,a=r.email,c=r.id,s=r.login,t(_(c,a,s,!0))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},x=n(136),w=n(134),y="social/app/INITIALIZED_SUCCESS",N={initialized:!1},k=n(100),S=Object(i.c)({dialogPage:u.b,profilePage:l.e,usersPage:p.d,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(j.a)(Object(j.a)({},e),t.payload);default:return e}},form:w.a,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(j.a)(Object(j.a)({},e),{},{initialized:!0});default:return e}},chat:k.a}),E=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,L=Object(i.e)(S,E(Object(i.a)(x.a)));window.store=L;var C=n(23),P=n(64),I=n(65),T=n(68),A=n(67),R=(n(255),n(138)),U=n.n(R),F=n(34),M=n.n(F),H=n(1),D=a.a.memo((function(){return Object(H.jsx)(H.Fragment,{children:Object(H.jsx)("nav",{className:M.a.nav,children:Object(H.jsxs)("ul",{children:[Object(H.jsx)("li",{children:Object(H.jsxs)(o.b,{to:"/profile",activeClassName:M.a.activeLink,children:[Object(H.jsx)("i",{className:"fa fa-address-card"}),"Profile"]})}),Object(H.jsx)("li",{children:Object(H.jsxs)(o.b,{to:"/dialogs",activeClassName:M.a.activeLink,children:[Object(H.jsx)("i",{className:"fa fa-envelope"}),"Message"]})}),Object(H.jsx)("li",{children:Object(H.jsxs)(o.b,{to:"/users",activeClassName:M.a.activeLink,children:[Object(H.jsx)("i",{className:"fa fa-user-plus"}),"Users"]})}),Object(H.jsx)("li",{children:Object(H.jsxs)(o.b,{to:"/news",activeClassName:M.a.activeLink,children:[Object(H.jsx)("i",{className:"fa fa-rss-square"}),"News"]})}),Object(H.jsx)("li",{children:Object(H.jsxs)(o.b,{to:"/music",activeClassName:M.a.activeLink,children:[Object(H.jsx)("i",{className:"fa fa-music"}),"Music"]})}),Object(H.jsx)("li",{children:Object(H.jsxs)(o.b,{to:"/settings",activeClassName:M.a.activeLink,children:[Object(H.jsx)("i",{className:"fa fa-cog"}),"Settings"]})})]})})})})),G=a.a.memo((function(){return Object(H.jsx)("aside",{className:U.a.aside,children:Object(H.jsx)(D,{})})})),q=n(139),z=n.n(q),W=a.a.memo((function(){return Object(H.jsx)("div",{className:z.a.settings,children:"Settings"})})),V=n(140),K=n.n(V),X=a.a.memo((function(){return Object(H.jsx)("div",{className:K.a.music,children:"Music"})})),B=n(141),J=n.n(B),Y=a.a.memo((function(){return Object(H.jsx)("div",{className:J.a.news,children:"News"})})),Z=n(12),Q=n(69),$=n(16),ee=n.n($),te=n.p+"static/media/logo.92dca5c6.png",ne=n(97),re=a.a.memo((function(e){var t=e.isAuth,n=e.login,r=e.photoUser,a=e.logout;return Object(H.jsxs)("header",{className:ee.a.header,children:[Object(H.jsx)("img",{className:ee.a.header__logo,src:te,alt:""}),Object(H.jsx)("input",{type:"search",placeholder:"Enter your search",name:"form",className:ee.a.input}),t?Object(H.jsxs)("div",{className:ee.a.auth,children:[Object(H.jsxs)("div",{className:ee.a.login,children:[Object(H.jsxs)("div",{className:ee.a.login__name,children:["Hello ",n]}),Object(H.jsx)("button",{className:"".concat(ee.a.btn," ").concat(ee.a.btn_log),onClick:a,children:"Logout"})]}),Object(H.jsx)("img",{className:ee.a.photo,src:r.small||r.large||ne.a,alt:"user"})]}):Object(H.jsxs)("div",{className:ee.a.buttons,children:[Object(H.jsxs)(o.b,{to:"/login",className:"".concat(ee.a.btn," ").concat(ee.a.btn_log),children:[Object(H.jsx)("i",{className:"fa fa-lock"}),"Sign In"]}),Object(H.jsxs)("a",{href:"https://social-network.samuraijs.com/signUp",className:"".concat(ee.a.btn," ").concat(ee.a.btn_reg),children:[Object(H.jsx)("i",{className:"fa fa-globe"}),"Register"]})]})]})})),ae=function(e){Object(T.a)(n,e);var t=Object(A.a)(n);function n(){return Object(P.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return e!==this.props||t!==this.state}},{key:"componentDidMount",value:function(){this.props.getMyPhoto(17599)}},{key:"render",value:function(){return Object(H.jsx)(re,Object(j.a)(Object(j.a)({},this.props),{},{login:this.props.login,isAuth:this.props.isAuth,photoUser:this.props.photoUser}))}}]),n}(a.a.Component),ce=Object(C.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,photoUser:e.profilePage.photos}}),{getMyPhoto:l.b,logout:function(){return function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.logout();case 3:0===e.sent.resultCode&&t(_(null,null,null,!1)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})(ae),se=n(13),oe=n.n(se),ie=n(132),ue=n(133),le=n(72),pe=n(73),fe=Object(pe.a)(30),de=a.a.memo((function(e){return Object(H.jsxs)("form",{onSubmit:e.handleSubmit,children:[e.error&&Object(H.jsx)("div",{className:oe.a.error,children:e.error}),Object(H.jsxs)("div",{className:oe.a.input_group,children:[Object(H.jsx)("div",{className:oe.a.input_group__prepend,children:Object(H.jsx)("span",{className:oe.a.input_group__text,children:Object(H.jsx)("i",{className:"fa fa-user"})})}),Object(H.jsx)(ie.a,{type:"text",className:oe.a.form_control,placeholder:"Email",component:le.a,name:"email",validate:[pe.b,fe]})]}),Object(H.jsxs)("div",{className:oe.a.input_group,children:[Object(H.jsx)("div",{className:oe.a.input_group__prepend,children:Object(H.jsx)("span",{className:oe.a.input_group__text,children:Object(H.jsx)("i",{className:"fa fa-lock"})})}),Object(H.jsx)(ie.a,{type:"password",className:oe.a.form_control,placeholder:"Password",component:le.a,name:"password",validate:[pe.b,fe]})]}),Object(H.jsxs)("div",{className:oe.a.message,children:[Object(H.jsx)(ie.a,{component:le.a,className:oe.a.checkbox,type:"checkbox",name:"rememberMe"}),Object(H.jsx)("div",{children:"Remember"})]}),Object(H.jsx)("button",{className:"".concat(oe.a.btn),children:"LOGIN"})]})})),be=Object(ue.a)({form:"login"})(de),je=a.a.memo((function(e){var t=e.login;return e.isAuth?Object(H.jsx)(Z.a,{to:"/profile"}):Object(H.jsx)("div",{className:oe.a.container,children:Object(H.jsxs)("div",{className:oe.a.form_box,children:[Object(H.jsx)("div",{className:oe.a.header_form,children:Object(H.jsx)("h4",{className:"".concat(oe.a.text_primary," ").concat(oe.a.text_center),children:Object(H.jsx)("i",{className:"fa fa-user-circle"})})}),Object(H.jsx)(be,{onSubmit:function(e){var n=e.email,r=e.password,a=e.rememberMe;t(n,r,a)}}),Object(H.jsxs)("div",{className:oe.a.social,children:[Object(H.jsx)("a",{href:"https://facebook.com/",children:Object(H.jsx)("i",{className:"fa fa-facebook"})}),Object(H.jsx)("a",{href:"https://twitter.com/",children:Object(H.jsx)("i",{className:"fa fa-twitter-square"})}),Object(H.jsx)("a",{href:"https://www.google.com/",children:Object(H.jsx)("i",{className:"fa fa-google"})})]})]})})})),he=Object(C.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var r=Object(b.a)(d.a.mark((function r(a){var c,s;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,h.a.login(e,t,n);case 3:0===(c=r.sent).resultCode?a(g()):(s=c.messages.length>0?c.messages[0]:"some error",a(Object(m.a)("login",{_error:s}))),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.warn(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()}})(je);function me(e){return function(t){return Object(H.jsx)(r.Suspense,{fallback:Object(H.jsx)(Q.a,{}),children:Object(H.jsx)(e,Object(j.a)({},t))})}}var Oe=a.a.lazy((function(){return n.e(6).then(n.bind(null,324))})),ve=a.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,323))})),_e=a.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,325))})),ge=function(e){Object(T.a)(n,e);var t=Object(A.a)(n);function n(){return Object(P.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(H.jsxs)("div",{className:"app-wrapper",children:[Object(H.jsx)(ce,{}),Object(H.jsx)(G,{}),Object(H.jsx)("main",{className:"app-wrapper-content",children:Object(H.jsxs)(Z.d,{children:[Object(H.jsx)(Z.b,{path:"/dialogs",render:me(Oe)}),Object(H.jsx)(Z.b,{path:"/profile/:userId?",exact:!0,render:me(ve)}),Object(H.jsx)(Z.b,{path:"/users",render:me(_e)}),Object(H.jsx)(Z.b,{path:"/login",render:function(){return Object(H.jsx)(he,{})}}),Object(H.jsx)(Z.b,{path:"/news",render:function(){return Object(H.jsx)(Y,{})}}),Object(H.jsx)(Z.b,{path:"/music",render:function(){return Object(H.jsx)(X,{})}}),Object(H.jsx)(Z.b,{path:"/settings",render:function(){return Object(H.jsx)(W,{})}}),Object(H.jsx)(Z.a,{to:"/profile"})]})})]}):Object(H.jsx)(Q.a,{})}}]),n}(r.Component),xe=Object(i.d)(Z.h,Object(C.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(g());case 2:t({type:y});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(ge);s.a.render(Object(H.jsx)(o.a,{children:Object(H.jsx)(C.a,{store:L,children:Object(H.jsx)(xe,{})})}),document.getElementById("root"))},34:function(e,t,n){e.exports={nav:"Navigation_nav__2vPR3",activeLink:"Navigation_activeLink__2cq6d"}},43:function(e,t,n){e.exports={formControl:"FormsControls_formControl__3IZ5A",fieldForm:"FormsControls_fieldForm__1fEqg",error:"FormsControls_error__1QSyu",error__span:"FormsControls_error__span__TbyHu"}},55:function(e,t,n){"use strict";n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return _})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return x})),n.d(t,"h",(function(){return w})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return N}));var r=n(4),a=n.n(r),c=n(8),s=n(33),o=n(3),i=n(28),u=n(15),l="social/profile/ADD-NEW-POST",p="social/profile/SET_USER_PROFILE",f="social/profile/SET_STATUS",d="social/profile/SET_PHOTO",b="social/profile/SAVE_PHOTOS_SUCCESS",j={posts:[{id:Object(i.a)(),message:"Lorem ipsum dolor, sit amet consecrated animistic elicit. Possimus ipsum sit voluptate sapiente ratione vero magnidoloremque modi quit.",countLike:10},{id:Object(i.a)(),message:"Lorem ipsum dolor, sit amet consecrated animistic elicit. Possimus ipsum sit voluptate sapiente ratione vero magnidoloremque modi qui.",countLike:32}],profile:null,status:null,photos:{small:null,large:null}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:var n={id:Object(i.a)(),message:t.newPost,countLike:3};return Object(o.a)(Object(o.a)({},e),{},{posts:[n].concat(Object(s.a)(e.posts))});case p:return Object(o.a)(Object(o.a)({},e),{},{profile:t.profile});case f:return Object(o.a)(Object(o.a)({},e),{},{status:t.status});case d:return Object(o.a)(Object(o.a)({},e),{},{photos:t.photo});case b:return Object(o.a)(Object(o.a)({},e),{},{profile:e.profile&&Object(o.a)(Object(o.a)({},e.profile),{},{photos:t.photos})});default:return e}},m=function(e){return{type:l,newPost:e}},O=function(e){return{type:p,profile:e}},v=function(e){return{type:f,status:e}},_=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.b.getProfile(e);case 3:r=t.sent,n(O(r)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.warn(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.b.getProfile(e);case 3:r=t.sent,n((a=r.photos,{type:d,photo:a})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.warn(t.t0);case 10:case"end":return t.stop()}var a}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.b.getStatus(e);case 3:r=t.sent,n(v(r)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.warn(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.b.updateStatus(e);case 3:0===t.sent.resultCode&&n(v(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.warn(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.b.savePhoto(e);case 3:0===(r=t.sent).resultCode&&n((a=r.data.photos,{type:b,photos:a})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.warn(t.t0);case 10:case"end":return t.stop()}var a}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.b.saveProfile(e);case 3:return t.next=5,u.b.getProfile(e.userId);case 5:r=t.sent,n(O(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.warn(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},69:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),a=n.n(r),c=n(94),s=n.n(c),o=n.p+"static/media/loading.ec5c097b.svg",i=n(1),u=a.a.memo((function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:s.a.isFetching,children:[Object(i.jsx)("img",{src:o,alt:"loading spinner"}),Object(i.jsx)("div",{className:s.a.overlay})]})})}))},72:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f}));var r=n(3),a=n(54),c=n(0),s=n.n(c),o=n(43),i=n.n(o),u=n(1),l=function(e){e.input;var t=e.meta,n=t.touched,r=t.error,c=Object(a.a)(e,["input","meta"]),s=n&&r?"".concat(i.a.fieldForm," ").concat(i.a.error):"";return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"".concat(i.a.formControl," ").concat(s),children:[c.children,n&&r&&Object(u.jsx)("span",{className:"".concat(i.a.error," ").concat(i.a.error__span),children:r})]})})},p=s.a.memo((function(e){var t=e.input,n=(e.meta,e.children,Object(a.a)(e,["input","meta","children"]));return Object(u.jsx)(l,Object(r.a)(Object(r.a)({},e),{},{children:Object(u.jsx)("textarea",Object(r.a)(Object(r.a)({},t),n))}))})),f=s.a.memo((function(e){var t=e.input,n=(e.meta,e.children,Object(a.a)(e,["input","meta","children"]));return Object(u.jsx)(l,Object(r.a)(Object(r.a)({},e),{},{children:Object(u.jsx)("input",Object(r.a)(Object(r.a)({},t),n))}))}))},73:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){if(!e)return"Field is required"},a=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},94:function(e,t,n){e.exports={isFetching:"Preloader_isFetching__3_w-3",overlay:"Preloader_overlay__20605"}},97:function(e,t,n){"use strict";t.a=n.p+"static/media/user.a6143582.png"},99:function(e,t,n){"use strict";n.d(t,"d",(function(){return O})),n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return w})),n.d(t,"c",(function(){return y}));var r=n(4),a=n.n(r),c=n(8),s=n(33),o=n(3),i=n(15),u="social/user/FOLLOW",l="social/user/UNFOLLOW",p="social/user/SET-USERS",f="social/user/SET_FILTER_USERS",d="social/user/SET_CURRENT_PAGE",b="social/user/SET_TOTAL_USERS_COUNT",j="social/user/TOGGLE_IS_FETCHING",h="social/user/TOGGLE_IS_FOLLOWING_PROGRESS",m={items:[],totalCount:0,pageSize:5,currentPage:1,isFetching:!1,followingInProgress:[],filter:{term:"",friend:null}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(o.a)(Object(o.a)({},e),{},{items:e.items.map((function(e){return e.id===t.userId?Object(o.a)(Object(o.a)({},e),{},{followed:!0}):e}))});case l:return Object(o.a)(Object(o.a)({},e),{},{items:e.items.map((function(e){return e.id===t.userId?Object(o.a)(Object(o.a)({},e),{},{followed:!1}):e}))});case p:return Object(o.a)(Object(o.a)({},e),{},{items:Object(s.a)(t.users)});case d:return Object(o.a)(Object(o.a)({},e),{},{currentPage:t.currentPage});case b:return Object(o.a)(Object(o.a)({},e),{},{totalCount:t.totalCount});case j:return Object(o.a)(Object(o.a)({},e),{},{isFetching:t.isFetching});case h:return Object(o.a)(Object(o.a)({},e),{},{followingInProgress:t.following?[].concat(Object(s.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});case f:return Object(o.a)(Object(o.a)({},e),{},{filter:t.payload});default:return e}},v=function(e){return{type:j,isFetching:e}},_=function(e,t){return{type:h,following:e,userId:t}},g=function(e){return{type:f,payload:e}},x=function(e,t,n){return function(){var r=Object(c.a)(a.a.mark((function r(c){var s;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c(v(!0)),c({type:d,currentPage:e}),c(g(n)),r.next=6,i.c.getUsers(e,t,n.term,n.friend);case 6:s=r.sent,c((o=s.items,{type:p,users:o})),c((a=s.totalCount,{type:b,totalCount:a})),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),console.warn(r.t0);case 14:return r.prev=14,c(v(!1)),r.finish(14);case 17:case"end":return r.stop()}var a,o}),r,null,[[0,11,14,17]])})));return function(e){return r.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(_(!0,e)),t.next=4,i.c.followUsers(e);case 4:0===t.sent.resultCode&&n({type:u,userId:e}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.warn(t.t0);case 11:return t.prev=11,n(_(!1,e)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(_(!0,e)),t.next=4,i.c.unfollowUsers(e);case 4:0===t.sent.resultCode&&n({type:l,userId:e}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.warn(t.t0);case 11:return t.prev=11,n(_(!1,e)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()}}},[[296,2,3]]]);
//# sourceMappingURL=main.184c0b79.chunk.js.map